<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Zeroconf networking support</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="GnomeVFS - Filesystem Abstraction library">
<link rel="up" href="networking.html" title="Networking">
<link rel="prev" href="networking.html" title="Networking">
<link rel="next" href="gnome-vfs-20-gnome-vfs-resolve.html" title="DNS Resolution">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="about.html" title="Introduction to GnomeVFS">
<link rel="chapter" href="data-types.html" title="Basic Data Types">
<link rel="chapter" href="gnome-vfs-basic-file-ops.html" title="File Operations">
<link rel="chapter" href="gnome-vfs-directory-ops.html" title="Directory-Specific Operations">
<link rel="chapter" href="gnome-vfs-file-and-dirs-ops.html" title="Advanced File/Directory Operations">
<link rel="chapter" href="gnome-vfs-file-async-ops.html" title="Asynchronous Operations">
<link rel="chapter" href="volumes.html" title="Volumes and Drives Handling">
<link rel="chapter" href="networking.html" title="Networking">
<link rel="chapter" href="mime-registry.html" title="MIME Registry">
<link rel="chapter" href="modules.html" title="Filesystem Modules">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="networking.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="networking.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GnomeVFS - Filesystem Abstraction library</th>
<td><a accesskey="n" href="gnome-vfs-20-gnome-vfs-resolve.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2675840" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2676444" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="gnome-vfs-20-gnome-vfs-dns-sd"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2675840"></a><span class="refentrytitle">Zeroconf networking support</span>
</h2>
<p>Zeroconf networking support &#8212; Gets information about available Zeroconf (aka <span class="trademark">RendezVous</span>&#8482;) services on a local network.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



void                (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback">*GnomeVFSDNSSDResolveCallback</a>)     (GnomeVFSDNSSDResolveHandle *handle,
                                                         <a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> result,
                                                         const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                                         const char *host,
                                                         int port,
                                                         const GHashTable *text,
                                                         int text_raw_len,
                                                         const char *text_raw,
                                                         gpointer callback_data);
enum                <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDServiceStatus">GnomeVFSDNSSDServiceStatus</a>;
                    <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a>;
void                (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDBrowseCallback">*GnomeVFSDNSSDBrowseCallback</a>)      (GnomeVFSDNSSDBrowseHandle *handle,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDServiceStatus">GnomeVFSDNSSDServiceStatus</a> status,
                                                         const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                                         gpointer callback_data);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse">gnome_vfs_dns_sd_browse</a>             (GnomeVFSDNSSDBrowseHandle **handle,
                                                         const char *domain,
                                                         const char *type,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDBrowseCallback">GnomeVFSDNSSDBrowseCallback</a> callback,
                                                         gpointer callback_data,
                                                         GDestroyNotify callback_data_destroy_func);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-stop-browse">gnome_vfs_dns_sd_stop_browse</a>        (GnomeVFSDNSSDBrowseHandle *handle);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve">gnome_vfs_dns_sd_resolve</a>            (GnomeVFSDNSSDResolveHandle **handle,
                                                         const char *name,
                                                         const char *type,
                                                         const char *domain,
                                                         int timeout,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback">GnomeVFSDNSSDResolveCallback</a> callback,
                                                         gpointer callback_data,
                                                         GDestroyNotify callback_data_destroy_func);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-cancel-resolve">gnome_vfs_dns_sd_cancel_resolve</a>     (GnomeVFSDNSSDResolveHandle *handle);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse-sync">gnome_vfs_dns_sd_browse_sync</a>        (const char *domain,
                                                         const char *type,
                                                         int timeout_msec,
                                                         int *n_services,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> **services);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve-sync">gnome_vfs_dns_sd_resolve_sync</a>       (const char *name,
                                                         const char *type,
                                                         const char *domain,
                                                         int timeout_msec,
                                                         char **host,
                                                         int *port,
                                                         GHashTable **text,
                                                         int *text_raw_len_out,
                                                         char **text_raw_out);
void                <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-service-list-free">gnome_vfs_dns_sd_service_list_free</a>  (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *services,
                                                         int n_services);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-list-browse-domains-sync">gnome_vfs_dns_sd_list_browse_domains_sync</a>
                                                        (const char *domain,
                                                         int timeout_msec,
                                                         GList **domains);
GList*              <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-get-default-browse-domains">gnome_vfs_get_default_browse_domains</a>
                                                        (void);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2676444"></a><h2>Description</h2>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2676459"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2676469"></a><h3>
<a name="GnomeVFSDNSSDResolveCallback"></a>GnomeVFSDNSSDResolveCallback ()</h3>
<a class="indexterm" name="id2676483"></a><pre class="programlisting">void                (*GnomeVFSDNSSDResolveCallback)     (GnomeVFSDNSSDResolveHandle *handle,
                                                         <a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a> result,
                                                         const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                                         const char *host,
                                                         int port,
                                                         const GHashTable *text,
                                                         int text_raw_len,
                                                         const char *text_raw,
                                                         gpointer callback_data);</pre>
<p>
Callback for the <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve"><code class="function">gnome_vfs_dns_sd_resolve()</code></a> function that is called
when a service has been resolved.
</p>
<p>
The <em class="parameter"><code>host</code></em> and <em class="parameter"><code>port</code></em> can be used to contact the requested service, and
<em class="parameter"><code>text</code></em> contains additional options as defined for the type requested.
</p>
<p>
To check for options being set in <em class="parameter"><code>text</code></em> without any value ("key" as
opposed to "key=value") you must use <code class="function">g_hash_table_lookup_extended()</code>, since
they are stored in the hash table with a NULL value, and <code class="function">g_hash_table_lookup()</code>
can't tell that from the case where the key is not in the hash table.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> handle of the operation generating the callback
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>result</code></em>&#160;:</span></td>
<td> whether the resolve succeeded or not
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>service</code></em>&#160;:</span></td>
<td> the service that was resolved
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>host</code></em>&#160;:</span></td>
<td> the host name or ip of the host hosting the service
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>port</code></em>&#160;:</span></td>
<td> the port number to use for the service
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>text</code></em>&#160;:</span></td>
<td> a hash table giving additional options about the service
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>text_raw_len</code></em>&#160;:</span></td>
<td> length of <em class="parameter"><code>text_raw</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>text_raw</code></em>&#160;:</span></td>
<td> raw version of the additional options in <em class="parameter"><code>text</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback_data</code></em>&#160;:</span></td>
<td> user data defined when the callback was established
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2676797"></a><h3>
<a name="GnomeVFSDNSSDServiceStatus"></a>enum GnomeVFSDNSSDServiceStatus</h3>
<a class="indexterm" name="id2676811"></a><pre class="programlisting">typedef enum {
	GNOME_VFS_DNS_SD_SERVICE_ADDED,
	GNOME_VFS_DNS_SD_SERVICE_REMOVED
} GnomeVFSDNSSDServiceStatus;
</pre>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2676828"></a><h3>
<a name="GnomeVFSDNSSDService"></a>GnomeVFSDNSSDService</h3>
<a class="indexterm" name="id2676841"></a><pre class="programlisting">typedef struct {
	char *name;
	char *type;
	char *domain;
} GnomeVFSDNSSDService;
</pre>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2676857"></a><h3>
<a name="GnomeVFSDNSSDBrowseCallback"></a>GnomeVFSDNSSDBrowseCallback ()</h3>
<a class="indexterm" name="id2676871"></a><pre class="programlisting">void                (*GnomeVFSDNSSDBrowseCallback)      (GnomeVFSDNSSDBrowseHandle *handle,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDServiceStatus">GnomeVFSDNSSDServiceStatus</a> status,
                                                         const <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *service,
                                                         gpointer callback_data);</pre>
<p>
Callback for the <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a> function that informs
the user of services that are added or removed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> handle of the operation generating the callback
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>status</code></em>&#160;:</span></td>
<td> whether a service addition or removal was detected
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>service</code></em>&#160;:</span></td>
<td> the service that was discovered or removed
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback_data</code></em>&#160;:</span></td>
<td> user data defined when the callback was established
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2677004"></a><h3>
<a name="gnome-vfs-dns-sd-browse"></a>gnome_vfs_dns_sd_browse ()</h3>
<a class="indexterm" name="id2677017"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_browse             (GnomeVFSDNSSDBrowseHandle **handle,
                                                         const char *domain,
                                                         const char *type,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDBrowseCallback">GnomeVFSDNSSDBrowseCallback</a> callback,
                                                         gpointer callback_data,
                                                         GDestroyNotify callback_data_destroy_func);</pre>
<p>
Browses <em class="parameter"><code>domain</code></em> for service of the type <em class="parameter"><code>type</code></em>, calling <em class="parameter"><code>callback</code></em> whenever
a new one is found or removed.
</p>
<p>
The domain to use can be "local" for multicast dns on the local network
(known as mDNS), or it can be the domain of the current host. You can also
use <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-list-browse-domains-sync"><code class="function">gnome_vfs_dns_sd_list_browse_domains_sync()</code></a> to get a list of domains
that are interested in a particular domain.
</p>
<p>
The type is a string of the form "_type._tcp" or "_type._udp", where type
is a service type registered at http://www.dns-sd.org/ServiceTypes.html.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> pointer to a pointer to a <span class="type">GnomeVFSDNSSDBrowseHandle</span> object.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>domain</code></em>&#160;:</span></td>
<td> dns domain to browse, or "local" for multicast DNS.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> type of service to browse for.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></td>
<td> function to be called when service is discovered.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback_data</code></em>&#160;:</span></td>
<td> data to pass to <em class="parameter"><code>callback</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback_data_destroy_func</code></em>&#160;:</span></td>
<td> optional destructor function for <em class="parameter"><code>callback_data</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2677256"></a><h3>
<a name="gnome-vfs-dns-sd-stop-browse"></a>gnome_vfs_dns_sd_stop_browse ()</h3>
<a class="indexterm" name="id2677269"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_stop_browse        (GnomeVFSDNSSDBrowseHandle *handle);</pre>
<p>
Stops browsing a domain started with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> handle of the browse operation to be stopped.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2677343"></a><h3>
<a name="gnome-vfs-dns-sd-resolve"></a>gnome_vfs_dns_sd_resolve ()</h3>
<a class="indexterm" name="id2677357"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_resolve            (GnomeVFSDNSSDResolveHandle **handle,
                                                         const char *name,
                                                         const char *type,
                                                         const char *domain,
                                                         int timeout,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback">GnomeVFSDNSSDResolveCallback</a> callback,
                                                         gpointer callback_data,
                                                         GDestroyNotify callback_data_destroy_func);</pre>
<p>
Tries to resolve a specific service (typically recieved from
<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a>) into a hostname/ip, port number and additional
options.
</p>
<p>
If you ever have to save a reference to a service you should store the
unresolved name/type/domain tripplet, because the actual host for the
service can change.
</p>
<p>
The <em class="parameter"><code>timeout</code></em> argument is primarily useful for local resolves, since the
host owning the service might no longer be around to answer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> pointer to a pointer to a <span class="type">GnomeVFSDNSSDResolveHandle</span> object.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td> name of the service to resolve in UTF-8 encoding.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> type of the service to resolve.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>domain</code></em>&#160;:</span></td>
<td> dns domain of the service to resolve, or "local" for multicast DNS.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>timeout</code></em>&#160;:</span></td>
<td> maximum time (in milliseconds) to try to resolve, or zero if no maximum.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></td>
<td> function to be called when the service has been resolved.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback_data</code></em>&#160;:</span></td>
<td> data to pass to <em class="parameter"><code>callback</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>callback_data_destroy_func</code></em>&#160;:</span></td>
<td> optional destructor function for <em class="parameter"><code>callback_data</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2677628"></a><h3>
<a name="gnome-vfs-dns-sd-cancel-resolve"></a>gnome_vfs_dns_sd_cancel_resolve ()</h3>
<a class="indexterm" name="id2677642"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_cancel_resolve     (GnomeVFSDNSSDResolveHandle *handle);</pre>
<p>
Cancels resolving a service started with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve"><code class="function">gnome_vfs_dns_sd_resolve()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> handle of the resolve operation to be cancelled.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2677716"></a><h3>
<a name="gnome-vfs-dns-sd-browse-sync"></a>gnome_vfs_dns_sd_browse_sync ()</h3>
<a class="indexterm" name="id2677730"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_browse_sync        (const char *domain,
                                                         const char *type,
                                                         int timeout_msec,
                                                         int *n_services,
                                                         <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> **services);</pre>
<p>
Browses <em class="parameter"><code>domain</code></em> for service of the type <em class="parameter"><code>type</code></em>, returning the result
after blocking for the duration of the browse. For details about <em class="parameter"><code>domain</code></em>
and <em class="parameter"><code>type</code></em>, see <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a>.
</p>
<p>
<em class="parameter"><code>timeout</code></em> is essential for the "local" domain, since you can never really
know when you've gotten the full set of return values when using multicast.
</p>
<p>
The returned list can be freed with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-service-list-free"><code class="function">gnome_vfs_dns_sd_service_list_free()</code></a>.
</p>
<p>
This is a synchronous version of <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a>, see that for
more details.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>domain</code></em>&#160;:</span></td>
<td> The dns domain to browse, or "local" for multicast DNS.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> type of the service to browse for.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>timeout_msec</code></em>&#160;:</span></td>
<td> maximum time to browse, in milliseconds.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>n_services</code></em>&#160;:</span></td>
<td> pointer to location to store number of returned services.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>services</code></em>&#160;:</span></td>
<td> pointer to location to store returned services.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2677960"></a><h3>
<a name="gnome-vfs-dns-sd-resolve-sync"></a>gnome_vfs_dns_sd_resolve_sync ()</h3>
<a class="indexterm" name="id2677974"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_resolve_sync       (const char *name,
                                                         const char *type,
                                                         const char *domain,
                                                         int timeout_msec,
                                                         char **host,
                                                         int *port,
                                                         GHashTable **text,
                                                         int *text_raw_len_out,
                                                         char **text_raw_out);</pre>
<p>
Tries to resolve a specific service (typically recieved from
<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a>) into a hostname/ip, port number and additional
options.
</p>
<p>
This is a synchronous version of <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-resolve"><code class="function">gnome_vfs_dns_sd_resolve()</code></a>, see that (and
its callback <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDResolveCallback"><code class="function">GnomeVFSDNSSDResolveCallback()</code></a>) for more details.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td> name of the service to resolve in UTF-8 encoding.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> type of the service to resolve.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>domain</code></em>&#160;:</span></td>
<td> dns domain of the service to resolve, or "local" for multicast DNS.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>timeout_msec</code></em>&#160;:</span></td>
<td> maximum time(in milliseconds) to try to resolve.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>host</code></em>&#160;:</span></td>
<td> location to store the host name or ip of the host hosting the service.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>port</code></em>&#160;:</span></td>
<td> location to store the port number to use for the service.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>text</code></em>&#160;:</span></td>
<td> location to store a hash table giving additional options about the service.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>text_raw_len_out</code></em>&#160;:</span></td>
<td> location to store length of <em class="parameter"><code>text_raw_out</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>text_raw_out</code></em>&#160;:</span></td>
<td> location to store raw version of the additional options in <em class="parameter"><code>text</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2678266"></a><h3>
<a name="gnome-vfs-dns-sd-service-list-free"></a>gnome_vfs_dns_sd_service_list_free ()</h3>
<a class="indexterm" name="id2678281"></a><pre class="programlisting">void                gnome_vfs_dns_sd_service_list_free  (<a href="gnome-vfs-20-gnome-vfs-dns-sd.html#GnomeVFSDNSSDService">GnomeVFSDNSSDService</a> *services,
                                                         int n_services);</pre>
<p>
Frees a list of services as returned by <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse-sync"><code class="function">gnome_vfs_dns_sd_browse_sync()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>services</code></em>&#160;:</span></td>
<td> the list of services to free.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>n_services</code></em>&#160;:</span></td>
<td> the number of services to free.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2678365"></a><h3>
<a name="gnome-vfs-dns-sd-list-browse-domains-sync"></a>gnome_vfs_dns_sd_list_browse_domains_sync ()</h3>
<a class="indexterm" name="id2678380"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_dns_sd_list_browse_domains_sync
                                                        (const char *domain,
                                                         int timeout_msec,
                                                         GList **domains);</pre>
<p>
Lists the recommended browsing domains for a specific dns domain.
This can be used to find interesting domains for the domain
you are currently in. These can then be browsed with <a href="gnome-vfs-20-gnome-vfs-dns-sd.html#gnome-vfs-dns-sd-browse"><code class="function">gnome_vfs_dns_sd_browse()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>domain</code></em>&#160;:</span></td>
<td> the domain to list browsable domains in.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>timeout_msec</code></em>&#160;:</span></td>
<td> maximum time to run, in milliseconds.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>domains</code></em>&#160;:</span></td>
<td> location to store the returned list of domain names strings.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2678501"></a><h3>
<a name="gnome-vfs-get-default-browse-domains"></a>gnome_vfs_get_default_browse_domains ()</h3>
<a class="indexterm" name="id2678515"></a><pre class="programlisting">GList*              gnome_vfs_get_default_browse_domains
                                                        (void);</pre>
<p>
Returns a list of domain names that is useful to
browse for standard services. The list is generated
by contacting the dns server of the domain part the
hostname and asking for the list of browse domains.
Then extra domains from a gconf setting is added.
</p>
<p>
The "local" domain is not normally returned by this.
Care should be taken with local services so that its
obvious that they are local, and cannot be confused
with non-local services.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a <span class="type">GList</span> of domain name strings.
</td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
