<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Getting and Setting File Information</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="GnomeVFS - Filesystem Abstraction library">
<link rel="up" href="gnome-vfs-basic-file-ops.html" title="File Operations">
<link rel="prev" href="gnome-vfs-20-gnome-vfs-file-trunc-ops.html" title="Truncating Files">
<link rel="next" href="gnome-vfs-directory-ops.html" title="Directory-Specific Operations">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="about.html" title="Introduction to GnomeVFS">
<link rel="chapter" href="data-types.html" title="Basic Data Types">
<link rel="chapter" href="gnome-vfs-basic-file-ops.html" title="File Operations">
<link rel="chapter" href="gnome-vfs-directory-ops.html" title="Directory-Specific Operations">
<link rel="chapter" href="gnome-vfs-file-and-dirs-ops.html" title="Advanced File/Directory Operations">
<link rel="chapter" href="gnome-vfs-file-async-ops.html" title="Asynchronous Operations">
<link rel="chapter" href="volumes.html" title="Volumes and Drives Handling">
<link rel="chapter" href="networking.html" title="Networking">
<link rel="chapter" href="mime-registry.html" title="MIME Registry">
<link rel="chapter" href="modules.html" title="Filesystem Modules">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="gnome-vfs-20-gnome-vfs-file-trunc-ops.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="gnome-vfs-basic-file-ops.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GnomeVFS - Filesystem Abstraction library</th>
<td><a accesskey="n" href="gnome-vfs-directory-ops.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2601970" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2603393" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="gnome-vfs-20-gnome-vfs-file-info-ops"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2601970"></a><span class="refentrytitle">Getting and Setting File Information</span>
</h2>
<p>Getting and Setting File Information &#8212; Convenient high-level abstraction for obtaining and setting file information, including ACLs.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-file-info-ops.html#gnome-vfs-get-file-info">gnome_vfs_get_file_info</a>             (const gchar *text_uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoOptions">GnomeVFSFileInfoOptions</a> options);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-file-info-ops.html#gnome-vfs-get-file-info-uri">gnome_vfs_get_file_info_uri</a>         (<a href="gnome-vfs-20-gnome-vfs-uri.html#GnomeVFSURI">GnomeVFSURI</a> *uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoOptions">GnomeVFSFileInfoOptions</a> options);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-file-info-ops.html#gnome-vfs-get-file-info-from-handle">gnome_vfs_get_file_info_from_handle</a> (GnomeVFSHandle *handle,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoOptions">GnomeVFSFileInfoOptions</a> options);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-file-info-ops.html#gnome-vfs-set-file-info-uri">gnome_vfs_set_file_info_uri</a>         (<a href="gnome-vfs-20-gnome-vfs-uri.html#GnomeVFSURI">GnomeVFSURI</a> *uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSSetFileInfoMask">GnomeVFSSetFileInfoMask</a> mask);
<a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      <a href="gnome-vfs-20-gnome-vfs-file-info-ops.html#gnome-vfs-set-file-info">gnome_vfs_set_file_info</a>             (const gchar *text_uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSSetFileInfoMask">GnomeVFSSetFileInfoMask</a> mask);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2603393"></a><h2>Description</h2>
<p>
    Applications can use the <a href="gnome-vfs-20-gnome-vfs-file-info-ops.html#gnome-vfs-get-file-info"><code class="function">gnome_vfs_get_file_info()</code></a> family of operations to
    retrieve file information, as this operation can be quite costly in
    terms of time (specilly when sniffing the MIME type) applications can 
    specify which information need at any time, reducing the performance 
    impact.
</p>
<p>
    All of these operations use a <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo"><span class="type">GnomeVFSFileInfo</span></a> data structure that holds 
    the file information, there are several methods that can be used to 
    manipulate this information. See <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo"><span class="type">GnomeVFSFileInfo</span></a> for more information.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2603447"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2603457"></a><h3>
<a name="gnome-vfs-get-file-info"></a>gnome_vfs_get_file_info ()</h3>
<a class="indexterm" name="id2603470"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_get_file_info             (const gchar *text_uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoOptions">GnomeVFSFileInfoOptions</a> options);</pre>
<p>
Retrieve information about <em class="parameter"><code>text_uri</code></em>.  The information will be stored in
<em class="parameter"><code>info</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>text_uri</code></em>&#160;:</span></td>
<td> uri of the file for which information will be retrieved.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> pointer to a <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo"><span class="type">GnomeVFSFileInfo</span></a> object that will hold the information
for the file on return.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>options</code></em>&#160;:</span></td>
<td> options for retrieving file information.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603600"></a><h3>
<a name="gnome-vfs-get-file-info-uri"></a>gnome_vfs_get_file_info_uri ()</h3>
<a class="indexterm" name="id2603614"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_get_file_info_uri         (<a href="gnome-vfs-20-gnome-vfs-uri.html#GnomeVFSURI">GnomeVFSURI</a> *uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoOptions">GnomeVFSFileInfoOptions</a> options);</pre>
<p>
Retrieve information about <em class="parameter"><code>text_uri</code></em>.  The information will be stored in
<em class="parameter"><code>info</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>uri</code></em>&#160;:</span></td>
<td> uri of the file for which information will be retrieved.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> pointer to a <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo"><span class="type">GnomeVFSFileInfo</span></a> object that will hold the information
for the file on return.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>options</code></em>&#160;:</span></td>
<td> options for retrieving file information.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603742"></a><h3>
<a name="gnome-vfs-get-file-info-from-handle"></a>gnome_vfs_get_file_info_from_handle ()</h3>
<a class="indexterm" name="id2603756"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_get_file_info_from_handle (GnomeVFSHandle *handle,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoOptions">GnomeVFSFileInfoOptions</a> options);</pre>
<p>
Retrieve information about an open file.  The information will be stored in
<em class="parameter"><code>info</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></td>
<td> handle of the file for which information must be retrieved.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> pointer to a <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo"><span class="type">GnomeVFSFileInfo</span></a> object that will hold the information
for the file on return.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>options</code></em>&#160;:</span></td>
<td> options for retrieving file information.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2603880"></a><h3>
<a name="gnome-vfs-set-file-info-uri"></a>gnome_vfs_set_file_info_uri ()</h3>
<a class="indexterm" name="id2603894"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_set_file_info_uri         (<a href="gnome-vfs-20-gnome-vfs-uri.html#GnomeVFSURI">GnomeVFSURI</a> *uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSSetFileInfoMask">GnomeVFSSetFileInfoMask</a> mask);</pre>
<p>
Set file information for <em class="parameter"><code>uri</code></em>; only the information for which the
corresponding bit in <em class="parameter"><code>mask</code></em> is set is actually modified.
</p>
<p>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<em class="parameter"><code>info</code></em>'s <code class="literal">valid_fields</code> is not required to contain the
<a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoFields"><span class="type">GnomeVFSFileInfoFields</span></a> corresponding to the specified 
<a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSSetFileInfoMask"><span class="type">GnomeVFSSetFileInfoMask</span></a> fields of <em class="parameter"><code>mask</code></em>. It
is assumed that the <em class="parameter"><code>info</code></em> fields referenced by <em class="parameter"><code>mask</code></em>
are valid.
</div>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>uri</code></em>&#160;:</span></td>
<td> a uri.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> information that must be set for the file.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>mask</code></em>&#160;:</span></td>
<td> bit mask representing which fields of <em class="parameter"><code>info</code></em> need to be set.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2604079"></a><h3>
<a name="gnome-vfs-set-file-info"></a>gnome_vfs_set_file_info ()</h3>
<a class="indexterm" name="id2604093"></a><pre class="programlisting"><a href="gnome-vfs-20-gnome-vfs-result.html#GnomeVFSResult">GnomeVFSResult</a>      gnome_vfs_set_file_info             (const gchar *text_uri,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo">GnomeVFSFileInfo</a> *info,
                                                         <a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSSetFileInfoMask">GnomeVFSSetFileInfoMask</a> mask);</pre>
<p>
Set file information for <em class="parameter"><code>uri</code></em>; only the information for which the
corresponding bit in <em class="parameter"><code>mask</code></em> is set is actually modified.
</p>
<p>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<em class="parameter"><code>info</code></em>'s <code class="literal">valid_fields</code> is not required to contain the
<a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfoFields"><span class="type">GnomeVFSFileInfoFields</span></a> corresponding to the specified 
<a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSSetFileInfoMask"><span class="type">GnomeVFSSetFileInfoMask</span></a> fields of <em class="parameter"><code>mask</code></em>. It
is assumed that the <em class="parameter"><code>info</code></em> fields referenced by <em class="parameter"><code>mask</code></em>
are valid.
</div>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>text_uri</code></em>&#160;:</span></td>
<td> string representing the file location.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> information that must be set for the file.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>mask</code></em>&#160;:</span></td>
<td> bit mask representing which fields of <em class="parameter"><code>info</code></em> need to be set.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an integer representing the result of the operation.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2604280"></a><h2>See Also</h2>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><a href="gnome-vfs-20-gnome-vfs-file-info.html#GnomeVFSFileInfo"><span class="type">GnomeVFSFileInfo</span></a></span></td>
<td></td>
</tr></tbody>
</table></div>
<p>

</p>
</div>
</div>
</body>
</html>
